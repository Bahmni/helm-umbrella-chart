loki:
  enabled: true
  commonConfig:
    replication_factor: 1
  storage:
    type: 'filesystem'
  persistence:
    enabled: true
    size: 10Gi
  nodeSelector:
    eks.amazonaws.com/nodegroup: nonprod
  chunk_store_config:
    max_look_back_period: 24h
  ingester:
    chunk_block_size: 262144
    chunk_idle_period: 3m
    chunk_retain_period: 1m
    lifecycler:
      ring:
        replication_factor: 1
    max_transfer_retries: 0
  limits_config:
    retention_period: 24h
    reject_old_samples: true
    reject_old_samples_max_age: 168h
    max_entries_limit_per_query: 5000
    enforce_metric_name: false
  compactor:
    working_directory: /data/loki/boltdb-shipper-compactor
    shared_store: filesystem
    compaction_interval: 10m
    retention_enabled: true
    retention_delete_delay: 2h
    retention_delete_worker_count: 150
  schema_config:
    configs:
      -   from: "2022-10-03"
          index:
            period: 24h
            prefix: loki_index_
          object_store: filesystem
          schema: v12
          store: boltdb-shipper
    server:
    http_listen_port: 3100
    grpc_listen_port: 9095
  storage_config:
    boltdb_shipper:
      active_index_directory: /data/loki/boltdb-shipper-active
      cache_location: /data/loki/boltdb-shipper-cache
      cache_ttl: 24h
      shared_store: filesystem
    filesystem:
      directory: /data/loki/chunks
  table_manager:
    retention_deletes_enabled: true
    retention_period: 24h
grafana:
  sidecar:
    datasources:
      enabled: false